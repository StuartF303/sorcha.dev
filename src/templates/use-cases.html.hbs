<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Real-world use cases and blueprint examples for Sorcha data flow orchestration">

    {{> favicon}}

    <title>Use Cases - Sorcha Data Flow Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    {{> analytics}}
</head>
<body>
    {{> gtm-noscript}}

    {{> nav}}

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Use Cases & Blueprint Examples</h1>
            <p>Production-ready workflow demonstrations from the Sorcha project</p>
        </div>
    </section>

    <!-- Loan Application Workflow -->
    <section id="loan-application" class="use-case-detail">
        <div class="container">
            <div class="use-case-header">
                <div class="use-case-icon-large">üìã</div>
                <h2>Loan Application Workflow</h2>
                <p class="lead">
                    Multi-step approval workflows with cryptographic signing at each stage.
                    Automated routing based on loan amount, applicant criteria, and risk assessment.
                </p>
            </div>

            <div class="use-case-content">
                <div class="challenge-solution">
                    <div class="challenge">
                        <h3>The Challenge</h3>
                        <p>
                            Financial institutions process loan applications through multiple stages:
                        </p>
                        <ul>
                            <li>Initial application submission and validation</li>
                            <li>Credit check and risk assessment</li>
                            <li>Multi-level approval based on loan amount</li>
                            <li>Document collection and verification</li>
                            <li>Final approval and disbursement</li>
                            <li>Audit trail for regulatory compliance</li>
                        </ul>
                    </div>

                    <div class="solution">
                        <h3>The Sorcha Solution</h3>
                        <p>
                            Automated loan application workflow with:
                        </p>
                        <ul>
                            <li>Cryptographic signing at each workflow stage</li>
                            <li>JSON Logic-based routing for approval levels</li>
                            <li>Immutable audit trail in distributed ledger</li>
                            <li>Real-time status notifications via SignalR</li>
                            <li>Selective data disclosure to different participants</li>
                        </ul>
                    </div>
                </div>

                <div class="blueprint-example">
                    <h3>Blueprint Example: Loan Application Processing</h3>
                    <div class="code-block">
                        <pre><code>var loanWorkflow = Blueprint.Create("LoanApplicationWorkflow")
    // Receive loan application
    .AddSource&lt;LoanApplication&gt;(config => config
        .FromQueue("loan-applications")
        .WithDeduplication())

    // Validate application data
    .Validate&lt;LoanApplication&gt;(validation => validation
        .AgainstSchema("loan-application-schema-v1")
        .CheckRequiredDocuments()
        .ValidateApplicantInfo())

    // Sign initial submission
    .Sign(signature => signature
        .WithAlgorithm(CryptoAlgorithm.ED25519)
        .UsingKey("loan-processor-key")
        .IncludeTimestamp())

    // Credit check and risk assessment
    .Transform&lt;LoanApplication, AssessedLoan&gt;(loan =>
        loan
            .PerformCreditCheck()
            .CalculateRiskScore()
            .DetermineEligibility())

    // Dynamic routing based on loan amount using JSON Logic
    .Route(routing => routing
        .When(loan => loan.Amount < 10000)
            .ToDestination("auto-approval-queue")
        .When(loan => loan.Amount >= 10000 && loan.Amount < 50000)
            .ToDestination("manager-approval-queue")
        .When(loan => loan.Amount >= 50000)
            .ToDestination("director-approval-queue")
        .Otherwise()
            .ToDestination("manual-review-queue"))

    // Record in distributed ledger
    .Audit(audit => audit
        .CreateLedgerEntry()
        .WithDIDReference()
        .StoreInRegisterService()
        .EnableODataQuery())

    // Notify stakeholders via SignalR
    .Publish(notification => notification
        .ToApplicant("application-status-update")
        .ToProcessor("new-application-assigned")
        .ToCompliance("application-submitted"))

    .Build();</code></pre>
                    </div>
                </div>

                <div class="benefits">
                    <h3>Business Benefits</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <strong>Automated Routing:</strong> JSON Logic ensures applications go to the right approver instantly
                        </div>
                        <div class="benefit-item">
                            <strong>Full Transparency:</strong> Every stage cryptographically signed and recorded
                        </div>
                        <div class="benefit-item">
                            <strong>Real-Time Updates:</strong> SignalR notifications keep all parties informed
                        </div>
                        <div class="benefit-item">
                            <strong>Compliance Ready:</strong> Complete audit trail with DID URIs for regulatory requirements
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Expense Approval -->
    <section id="expense-approval" class="use-case-detail alt-bg">
        <div class="container">
            <div class="use-case-header">
                <div class="use-case-icon-large">üí∞</div>
                <h2>Expense Approval Workflow</h2>
                <p class="lead">
                    Dynamic routing with JSON Logic evaluation based on expense amounts.
                    Automatic escalation and multi-level approval workflows with real-time notifications.
                </p>
            </div>

            <div class="use-case-content">
                <div class="challenge-solution">
                    <div class="challenge">
                        <h3>The Challenge</h3>
                        <p>
                            Organizations need efficient expense approval processes that:
                        </p>
                        <ul>
                            <li>Route expenses to appropriate approvers based on amount</li>
                            <li>Support multi-level approval chains</li>
                            <li>Provide real-time status updates</li>
                            <li>Maintain audit trails for compliance</li>
                            <li>Handle policy exceptions and escalations</li>
                        </ul>
                    </div>

                    <div class="solution">
                        <h3>The Sorcha Solution</h3>
                        <p>
                            Intelligent expense approval with:
                        </p>
                        <ul>
                            <li>JSON Logic expressions for dynamic routing rules</li>
                            <li>Automatic escalation to higher approval levels</li>
                            <li>Real-time SignalR notifications to approvers</li>
                            <li>Cryptographic proof of approval actions</li>
                            <li>Policy enforcement with schema validation</li>
                        </ul>
                    </div>
                </div>

                <div class="blueprint-example">
                    <h3>Blueprint Example: Expense Approval with Dynamic Routing</h3>
                    <div class="code-block">
                        <pre><code>var expenseWorkflow = Blueprint.Create("ExpenseApprovalWorkflow")
    // Receive expense submission
    .AddSource&lt;ExpenseReport&gt;(config => config
        .FromAPI("expense-submission-endpoint")
        .WithRealTimeProcessing())

    // Validate against expense policy
    .Validate&lt;ExpenseReport&gt;(validation => validation
        .AgainstSchema("expense-policy-schema")
        .CheckReceiptsAttached()
        .ValidateCategoryRules())

    // JSON Logic routing based on amount and department
    .Route(routing => routing
        // Small expenses: auto-approve
        .When(expense =>
            expense.Amount < 100)
            .ToDestination("auto-approve")

        // Medium expenses: manager approval
        .When(expense =>
            expense.Amount >= 100 && expense.Amount < 1000)
            .ToDestination("manager-approval")

        // Large expenses: director approval
        .When(expense =>
            expense.Amount >= 1000 && expense.Amount < 5000)
            .ToDestination("director-approval")

        // Very large: CFO approval required
        .When(expense =>
            expense.Amount >= 5000)
            .ToDestination("cfo-approval")

        // Policy violations: manual review
        .When(expense =>
            expense.HasPolicyViolation)
            .ToDestination("compliance-review"))

    // Sign approval decision
    .Sign(signature => signature
        .WithAlgorithm(CryptoAlgorithm.ED25519)
        .UsingApproverKey()
        .IncludeApprovalReason())

    // Store in distributed ledger
    .Audit(audit => audit
        .RecordApprovalChain()
        .WithTimestamp()
        .StoreInRegisterService())

    // Real-time notifications
    .Publish(notification => notification
        .ToSubmitter("expense-status-change")
        .ToApprover("new-expense-pending")
        .ToFinance("expense-approved"))

    .Build();</code></pre>
                    </div>
                </div>

                <div class="benefits">
                    <h3>Business Benefits</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <strong>Policy Enforcement:</strong> JSON Logic ensures expenses follow company policies automatically
                        </div>
                        <div class="benefit-item">
                            <strong>Fast Processing:</strong> 1.16ms latency enables instant routing decisions
                        </div>
                        <div class="benefit-item">
                            <strong>Real-Time Updates:</strong> SignalR keeps everyone informed of approval status
                        </div>
                        <div class="benefit-item">
                            <strong>Audit Compliance:</strong> Every approval cryptographically signed and recorded
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Purchase Orders -->
    <section id="purchase-orders" class="use-case-detail">
        <div class="container">
            <div class="use-case-header">
                <div class="use-case-icon-large">üì¶</div>
                <h2>Purchase Order Processing</h2>
                <p class="lead">
                    End-to-end procurement workflows with vendor validation, approval chains,
                    and cryptographic transaction records in a distributed ledger.
                </p>
            </div>

            <div class="use-case-content">
                <div class="challenge-solution">
                    <div class="challenge">
                        <h3>The Challenge</h3>
                        <p>
                            Purchase order processing involves complex workflows:
                        </p>
                        <ul>
                            <li>Vendor validation and approval</li>
                            <li>Multi-step approval based on purchase value</li>
                            <li>Budget verification and allocation</li>
                            <li>Goods receipt and invoice matching</li>
                            <li>Payment authorization and processing</li>
                            <li>Audit trail for financial compliance</li>
                        </ul>
                    </div>

                    <div class="solution">
                        <h3>The Sorcha Solution</h3>
                        <p>
                            Comprehensive purchase order workflow with:
                        </p>
                        <ul>
                            <li>Vendor verification with cryptographic validation</li>
                            <li>Budget checks using JSON Logic rules</li>
                            <li>Multi-party signature collection</li>
                            <li>Three-way matching (PO, goods receipt, invoice)</li>
                            <li>Immutable transaction records with DID URIs</li>
                        </ul>
                    </div>
                </div>

                <div class="blueprint-example">
                    <h3>Blueprint Example: Purchase Order Workflow</h3>
                    <div class="code-block">
                        <pre><code>var purchaseOrderWorkflow = Blueprint.Create("PurchaseOrderProcessing")
    // Receive PO request
    .AddSource&lt;PurchaseOrder&gt;(config => config
        .FromProcurementSystem("po-requests")
        .WithValidation())

    // Validate vendor and budget
    .Validate&lt;PurchaseOrder&gt;(validation => validation
        .CheckApprovedVendor()
        .VerifyBudgetAvailability()
        .ValidateLineItems())

    // Multi-party signing
    .Sign(signature => signature
        .WithAlgorithm(CryptoAlgorithm.NISTP256)
        .RequireSignatures()
        .FromRequester()
        .FromManager()
        .FromProcurement())

    // Route based on value and category
    .Route(routing => routing
        .When(po => po.TotalValue < 5000)
            .ToDestination("auto-process")
        .When(po => po.TotalValue >= 5000 && po.TotalValue < 50000)
            .ToDestination("director-approval")
        .When(po => po.TotalValue >= 50000)
            .ToDestination("executive-approval")
        .When(po => po.IsInternational)
            .ToDestination("international-review"))

    // Store in distributed ledger with DID
    .Audit(audit => audit
        .CreatePORecord()
        .WithDIDURI()
        .EnableODataQueries()
        .ChainToPreviousTransaction())

    // Notify all stakeholders
    .Publish(notification => notification
        .ToRequester("po-status-update")
        .ToVendor("po-issued")
        .ToReceiving("po-goods-pending")
        .ToAccounts("po-payment-pending"))

    // Handle goods receipt
    .OnEvent("goods-received", receipt =>
        receipt
            .ValidateAgainstPO()
            .RecordInLedger()
            .TriggerInvoiceMatching())

    .Build();</code></pre>
                    </div>
                </div>

                <div class="benefits">
                    <h3>Business Benefits</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <strong>Fraud Prevention:</strong> Multi-party signatures and vendor validation prevent unauthorized purchases
                        </div>
                        <div class="benefit-item">
                            <strong>Budget Control:</strong> Real-time budget verification ensures spending stays within limits
                        </div>
                        <div class="benefit-item">
                            <strong>Process Efficiency:</strong> Automated routing and approvals reduce procurement cycle time
                        </div>
                        <div class="benefit-item">
                            <strong>Audit Ready:</strong> Complete PO lifecycle recorded in distributed ledger with DID URIs
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Data Disclosure -->
    <section id="data-disclosure" class="use-case-detail alt-bg">
        <div class="container">
            <div class="use-case-header">
                <div class="use-case-icon-large">üìä</div>
                <h2>Selective Data Disclosure Workflows</h2>
                <p class="lead">
                    Control exactly which data participants can access using JSON Pointers (RFC 6901).
                    Enable secure collaboration with cryptographic guarantees and fine-grained access control.
                </p>
            </div>

            <div class="use-case-content">
                <div class="challenge-solution">
                    <div class="challenge">
                        <h3>The Challenge</h3>
                        <p>
                            Sharing sensitive data requires precise control over:
                        </p>
                        <ul>
                            <li>Which fields each participant can access</li>
                            <li>Who can see personally identifiable information (PII)</li>
                            <li>Preventing unauthorized data exposure</li>
                            <li>Maintaining audit trails of data access</li>
                            <li>Supporting multi-party collaboration safely</li>
                        </ul>
                    </div>

                    <div class="solution">
                        <h3>The Sorcha Solution</h3>
                        <p>
                            Selective data disclosure using:
                        </p>
                        <ul>
                            <li>JSON Pointers (RFC 6901) for field-level access control</li>
                            <li>Cryptographic proof of data integrity</li>
                            <li>Role-based access policies</li>
                            <li>Immutable disclosure audit trail</li>
                            <li>Schema validation for disclosed data</li>
                        </ul>
                    </div>
                </div>

                <div class="blueprint-example">
                    <h3>Blueprint Example: Selective Survey Data Sharing</h3>
                    <div class="code-block">
                        <pre><code>var dataDisclosureWorkflow = Blueprint.Create("SelectiveDataDisclosure")
    // Receive data disclosure request
    .AddSource&lt;DisclosureRequest&gt;(config => config
        .FromAPI("disclosure-requests")
        .WithAuthentication())

    // Validate requester permissions
    .Validate&lt;DisclosureRequest&gt;(validation => validation
        .CheckRequesterAuthorization()
        .ValidateAccessPolicy()
        .VerifyDataOwnerConsent())

    // Apply JSON Pointers for selective disclosure
    .Transform&lt;DisclosureRequest, FilteredData&gt;(request =>
        request
            // Allow researcher to see aggregate data only
            .When(role => role == "Researcher")
                .DiscloseFields("/surveyId", "/aggregateResults")

            // Allow data steward to see identifiers but not PII
            .When(role => role == "DataSteward")
                .DiscloseFields("/surveyId", "/submissionDate", "/statusCode")

            // Allow principal investigator to see all non-PII fields
            .When(role => role == "PrincipalInvestigator")
                .DiscloseFields("/surveyId", "/responses", "/demographics")
                .ExcludeFields("/personalInfo/name", "/personalInfo/email")

            // Data owner sees everything
            .When(role => role == "DataOwner")
                .DiscloseAll())

    // Sign disclosed data
    .Sign(signature => signature
        .WithAlgorithm(CryptoAlgorithm.ED25519)
        .IncludeDisclosurePolicy()
        .IncludeAccessTimestamp())

    // Record disclosure in ledger
    .Audit(audit => audit
        .RecordDataAccess()
        .WithDIDReference()
        .LogDisclosedFields()
        .LogRequesterIdentity()
        .EnableComplianceQuery())

    // Notify data custodian
    .Publish(notification => notification
        .ToDataOwner("data-accessed")
        .ToRequester("data-disclosure-granted")
        .ToCompliance("disclosure-logged"))

    // Validate disclosed data integrity
    .Validate&lt;FilteredData&gt;(validation => validation
        .AgainstSchema("filtered-data-schema")
        .EnsureNoPIILeakage()
        .VerifySignature())

    .Build();</code></pre>
                    </div>
                </div>

                <div class="benefits">
                    <h3>Business Benefits</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <strong>Privacy Protection:</strong> JSON Pointers ensure only authorized fields are shared
                        </div>
                        <div class="benefit-item">
                            <strong>Compliance:</strong> GDPR, HIPAA-ready with field-level access control and audit trails
                        </div>
                        <div class="benefit-item">
                            <strong>Collaboration:</strong> Enable secure multi-party research and analysis
                        </div>
                        <div class="benefit-item">
                            <strong>Transparency:</strong> Complete audit trail of who accessed what data when
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Multi-Step Surveys -->
    <section id="surveys" class="use-case-detail">
        <div class="container">
            <div class="use-case-header">
                <div class="use-case-icon-large">üìù</div>
                <h2>Multi-Step Survey Collection</h2>
                <p class="lead">
                    Complex survey workflows with conditional logic, data validation,
                    and cryptographic protection of respondent data.
                </p>
            </div>

            <div class="use-case-content">
                <div class="challenge-solution">
                    <div class="challenge">
                        <h3>The Challenge</h3>
                        <p>
                            Research and customer feedback surveys require:
                        </p>
                        <ul>
                            <li>Multi-step conditional flows based on responses</li>
                            <li>Data validation at each step</li>
                            <li>Protection of sensitive respondent information</li>
                            <li>Progress tracking and resume capability</li>
                            <li>Aggregate analysis while preserving privacy</li>
                        </ul>
                    </div>

                    <div class="solution">
                        <h3>The Sorcha Solution</h3>
                        <p>
                            Intelligent survey workflows with:
                        </p>
                        <ul>
                            <li>JSON Logic for conditional question flows</li>
                            <li>JSON Schema validation for each response</li>
                            <li>Encrypted storage of sensitive responses</li>
                            <li>State management for partial submissions</li>
                            <li>Selective disclosure for different analysts</li>
                        </ul>
                    </div>
                </div>

                <div class="blueprint-example">
                    <h3>Blueprint Example: Multi-Step Survey Workflow</h3>
                    <div class="code-block">
                        <pre><code>var surveyWorkflow = Blueprint.Create("MultiStepSurveyCollection")
    // Receive survey response
    .AddSource&lt;SurveyResponse&gt;(config => config
        .FromWebForm("survey-endpoint")
        .WithSessionManagement())

    // Validate current step
    .Validate&lt;SurveyResponse&gt;(validation => validation
        .AgainstSchema("survey-step-schema")
        .CheckRequiredFields()
        .ValidateResponseTypes())

    // Conditional routing based on responses
    .Route(routing => routing
        // Basic demographic questions for everyone
        .When(response => response.Step == 1)
            .ToDestination("demographic-processing")

        // Conditional follow-up based on age
        .When(response =>
            response.Step == 2 && response.Age < 25)
            .ToDestination("youth-specific-questions")

        .When(response =>
            response.Step == 2 && response.Age >= 25)
            .ToDestination("adult-specific-questions")

        // Income-based routing
        .When(response =>
            response.Step == 3 && response.Income > 100000)
            .ToDestination("high-income-questions")

        // Final step: thank you
        .When(response => response.IsComplete)
            .ToDestination("completion-processing"))

    // Encrypt sensitive fields
    .Transform&lt;SurveyResponse, ProtectedResponse&gt;(response =>
        response
            .EncryptField("/personalInfo/email")
            .EncryptField("/personalInfo/phone")
            .HashField("/personalInfo/postalCode"))

    // Sign and store
    .Sign(signature => signature
        .WithAlgorithm(CryptoAlgorithm.ED25519)
        .IncludeSessionId())

    .Audit(audit => audit
        .RecordSubmission()
        .WithAnonymizedIdentifier()
        .EnableAggregateAnalysis())

    // Notify researcher of completion
    .Publish(notification => notification
        .ToRespondent("survey-progress-saved")
        .ToResearcher("new-response-received"))

    .Build();</code></pre>
                    </div>
                </div>

                <div class="benefits">
                    <h3>Business Benefits</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <strong>Smart Routing:</strong> JSON Logic creates personalized survey paths
                        </div>
                        <div class="benefit-item">
                            <strong>Data Quality:</strong> Schema validation ensures clean, analyzable data
                        </div>
                        <div class="benefit-item">
                            <strong>Privacy First:</strong> Encryption and selective disclosure protect respondents
                        </div>
                        <div class="benefit-item">
                            <strong>Research Ready:</strong> Aggregate analysis without compromising individual privacy
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Build Your Workflow?</h2>
                <p>
                    These production-ready examples are running in the Sorcha project today
                </p>
                <div class="cta-buttons">
                    <a href="docs.html" class="btn-primary btn-large">Get Started</a>
                    <a href="https://github.com/StuartF303/Sorcha" target="_blank" class="btn-secondary btn-large">View Source Code</a>
                </div>
            </div>
        </div>
    </section>

    {{> footer}}

    <script src="script.js"></script>
</body>
</html>
